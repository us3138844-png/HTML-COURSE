<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heart Catch Game ğŸ’•</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{
    background:linear-gradient(135deg,#ffb6c1,#ff8fab);
    overflow:hidden;
    height:100vh;
    font-family:"Poppins",sans-serif;
    text-align:center;
  }
  h1{
    color:#fff;
    margin-top:20px;
    text-shadow:0 0 10px rgba(0,0,0,0.3);
    font-size: 28px;
  }
  .scoreboard,.timer{
    position:fixed;top:10px;
    background:rgba(0,0,0,0.3);
    color:#fff;padding:8px 14px;
    border-radius:10px;
    font-size:18px;
  }
  .scoreboard{left:10px;}
  .timer{right:10px;}
  .heart{
    position:absolute;
    font-size:40px;
    cursor:pointer;
    user-select:none;
    animation:fall 4s linear forwards;
  }
  @keyframes fall{
    0%{transform:translateY(-60px);opacity:1;}
    100%{transform:translateY(100vh);opacity:0;}
  }
  .popup{
    position:fixed;
    top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.7);
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    color:white;
    font-size:22px;
    z-index:10;
    display:none;
    text-align:center;
    padding: 20px;
  }
  .popup button{
    margin-top:20px;
    padding:10px 20px;
    background:#ff5fa2;
    border:none;
    border-radius:8px;
    color:white;
    cursor:pointer;
    font-size:18px;
  }

  /* Responsive adjustments for iPhone 13 & small screens */
  @media only screen and (max-width: 430px){
    h1{font-size:24px; margin-top:15px;}
    .scoreboard,.timer{font-size:16px; padding:6px 10px;}
    .heart{font-size:32px;}
    .popup{font-size:18px; padding:15px;}
    .popup button{font-size:16px; padding:8px 16px;}
  }
</style>
</head>
<body>
<h1>ğŸ’ Catch the Hearts ğŸ’</h1>
<div class="scoreboard">â¤ Score: <span id="score">0</span>/15</div>
<div class="timer">â± Time: <span id="time">30</span>s</div>

<div class="popup" id="popup">
  <h2>ğŸ‰ Game Complete! ğŸ‰</h2>
  <p>Youâ€™ve collected 15 hearts ğŸ’–</p>
  <p>Hope you liked this birthday gift ğŸ¥³</p>
  <p>If you enjoyed it, tell your review to <b>@ujjwal</b> ğŸ’¬</p>
  <button id="restart">Play Again</button>
</div>

<script>
window.onload = () => {
  const scoreEl = document.getElementById("score");
  const timeEl = document.getElementById("time");
  const popup = document.getElementById("popup");
  const restartBtn = document.getElementById("restart");

  let score = 0;
  let timeLeft = 30;
  let heartInterval, timerInterval;

  function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.textContent = "ğŸ’–";
    heart.style.left = Math.random() * (window.innerWidth - 50) + "px";
    heart.style.fontSize = window.innerWidth < 430 ? "32px" : "40px";
    document.body.appendChild(heart);

    const collect = () => {
      score++;
      scoreEl.textContent = score;
      heart.remove();
      if(score >= 15) endGame(true);
    };

    heart.addEventListener("click", collect);
    heart.addEventListener("touchstart", collect);

    setTimeout(() => heart.remove(), 4000);
  }

  function startGame() {
    score = 0;
    timeLeft = 30;
    scoreEl.textContent = score;
    timeEl.textContent = timeLeft;
    popup.style.display = "none";

    heartInterval = setInterval(createHeart, 700);
    timerInterval = setInterval(() => {
      timeLeft--;
      timeEl.textContent = timeLeft;
      if(timeLeft <= 0) endGame(false);
    }, 1000);
  }

  function endGame(won){
    clearInterval(heartInterval);
    clearInterval(timerInterval);
    document.querySelectorAll(".heart").forEach(h => h.remove());
    popup.style.display = "flex";

    if(won){
      popup.querySelector("h2").textContent = "ğŸ‰ Game Complete! ğŸ‰";
      popup.querySelector("p").innerHTML = "Youâ€™ve collected 15 hearts ğŸ’–<br>Hope you liked this birthday gift ğŸ¥³";
    } else{
      popup.querySelector("h2").textContent = "â° Timeâ€™s Up!";
      popup.querySelector("p").innerHTML = "You collected " + score + " hearts â¤<br>Better luck next time!";
    }
  }

  restartBtn.onclick = () => {
    popup.style.display = "none";
    startGame();
  };

  startGame();
};
</script>
</body>
</html>
